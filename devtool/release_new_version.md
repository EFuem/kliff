# Steps to release a new version

- Change the version by modifying `major`, `minor` and `patch` in `./update_version.py`
  and then `$ python update_version.py`
 
- Format code `$ python format_sources.py`
 
- Update `kliff/docs/source/changelog.rst`
 
- Update docs at `kliff/docs/source` as necessary
 
- Generate docs by running `$ make html` in the `kliff/docs` directory
 
- Commit and merge it to the `docs` branch. [ReadTheDocs](https://readthedocs.org)
  is set up to watch this branch and will automatically generate the docs.)
  Note, pre-commit needs to be uninstalled to not modify the source generated by 
  sphinx-gallery; otherwise the md5 for the generated files will change and 
  ReadTheDocs will try to regenerate it (this will fail). So, simply do this
  - $ cd kliff 
  - $ pre-commit uninstall
  - $ git commit -m "some message"
 
- Go to GitHub and release a new version by tagging it with `v<major><minor><patch>`.
  The GitHub actions at `kliff/.github/workflows/pythonpublish.yml` will then
  automatically publish it to PyPI
